<%- include("../../views/partials/user/header") %>

    <style>
        .content-main {
            height: 50vh;
        }

        .spacer {
            height: 30vh;
        }
    </style>
    <div class="spacer"></div>

    <section class="content-main mt-80 mb-80">
        <div class="card mx-auto card-login col-4">
            <div class="card-body">
                <h4 class="card-title mb-4">Update Passowrd</h4>
                <form method="post" action="/changePassword" onsubmit="return validateLoginForm()">
                    <div class="mb-3">
                        <input class="form-control" name="currentPassword" placeholder="Current Password"
                            type="password" id="currentPassword">
                        <div class="error-message" id="password-error"></div>
                    </div>
                    <div class="mb-3">
                        <input class="form-control" name="newPassword" placeholder="New Password" type="password"
                            id="newPassword1">
                        <div class="error-message" id="newPass1Error"></div>
                    </div>
                    <div class="mb-3">
                        <input class="form-control" name="confirmPassword" placeholder="Confirm Password"
                            type="password" id="newPass2">
                        <div class="error-message" id="newPass2Error"></div>
                    </div>
                    <%if(locals.message && message.length>0){%>
                        <div class="alert alert-danger text-center">
                            <%=message%>
                        </div>
                        <%}%>
                            <div class="mb-4">
                                <button type="submit" class="btn btn-primary w-100">Update</button>
                            </div>
                </form>


            </div>
        </div>
    </section>
    <script>
        function validateLoginForm() {
            const passwordInput = document.getElementById('password1');
            const passwordError = document.getElementById('password-error');
            const passwordValue = passwordInput.value.trim();



            if (passwordValue === '') {
                passwordError.textContent = 'Please enter your password.';
                passwordInput.classList.add('is-invalid');
                return false;
            } else {
                passwordError.textContent = '';
                passwordInput.classList.remove('is-invalid');
                return true;
            }
        }
    </script>
    <script src="vendor/jquery/jquery-3.2.1.min.js"></script>
    <!--===============================================================================================-->
    <script src="vendor/animsition/js/animsition.min.js"></script>
    <!--===============================================================================================-->
    <script src="vendor/bootstrap/js/popper.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <!--===============================================================================================-->
    <script src="vendor/select2/select2.min.js"></script>
    <script>
        $(".js-select2").each(function () {
            $(this).select2({
                minimumResultsForSearch: 20,
                dropdownParent: $(this).next('.dropDownSelect2')
            });
        })
    </script>
    <!--===============================================================================================-->
    <script src="vendor/MagnificPopup/jquery.magnific-popup.min.js"></script>
    <!--===============================================================================================-->
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script>
        $('.js-pscroll').each(function () {
            $(this).css('position', 'relative');
            $(this).css('overflow', 'hidden');
            var ps = new PerfectScrollbar(this, {
                wheelSpeed: 1,
                scrollingThreshold: 1000,
                wheelPropagation: false,
            });

            $(window).on('resize', function () {
                ps.update();
            })
        });
    </script>
    <!--===============================================================================================-->
    <script src="js/main.js"></script>